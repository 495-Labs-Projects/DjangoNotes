# Django Application Development Cheatsheet

## Start a Django Project

There are three main ways to execute admin related tasks using django. These tasks include created starter code for a Django project/app, migrating your database, and even running your server. These three ways are all rather similar but all have its purposes, you will learn specific differences later on.

```
$ django-admin <command> [options]
$ manage.py <command> [options]
$ python -m django <command> [options]
```

Generally before, we start a Django project/app we will use django-admin to run commands to create a new Django project/app. Later on, once we have created our app, we tend to use manage.py as a way to run our commands like runserver. Read [here](https://docs.djangoproject.com/en/1.11/ref/django-admin/) for more information regarding the different commands available.

#### Create a Django Project

Before writing any python code we need to generate the starter template/code for our Django project. Run the following command to create a folder with your Django project, where `mysite` is the name of the project:

```
$ django-admin startproject mysite
```

The `startproject` command creates a Django project directory structure for the given project name in the current directory. startproject created a directory called mysite with a bunch of different files in it like the following:

```
mysite/
    manage.py
    mysite/
        __init__.py
        settings.py
        urls.py
        wsgi.py
```

Don't worry too much about understanding all of these file yet, we will go into more details later on, but the following is a quick description of each file/directory:
* The outer mysite/ root directory is just a container for your project. Its name doesnâ€™t matter to Django; you can rename it to anything you like.
* manage.py: A command-line utility that lets you interact with this Django project in various ways.
* The inner mysite/ directory is the actual Python package for your project. Its name is the Python package name you'll need to use to import anything inside it (e.g. mysite.urls).
* mysite/__init__.py: An empty file that tells Python that this directory should be considered a Python package.
* mysite/settings.py: Settings/configuration for this Django project. Django settings will tell you all about how settings work.
* mysite/urls.py: The URL declarations for this Django project; a "table of contents" of your Django-powered site.
* mysite/wsgi.py: An entry-point for WSGI-compatible web servers to serve your project.

#### Create a Django App

Now we will be creating a Django app within your Django project. Each project generally has one or many apps within it. Apps are what you generally think of as a major feature of a project. Here is a quick description of the difference between project and app:
* Project
  * A project is a collection of applications, installed into the same database, and all using the same settings file. In a sense, the defining aspect of a project is that it supplies a settings file which specifies the database to use, the applications to install, and other bits of configuration. 
  * ex) Sports Website
* App
  * An application tries to provide a single, relatively self-contained set of related functions. An application is allowed to define a set of models and to define and register custom template tags and filters.
  * ex) user login app, user notifications app, newletter app, etc.

Now lets create a Django app called `helloworld` within our `mysite` project:

```
$ manage.py startapp helloworld
```

Here is what is generated by the `startapp` command:

```
helloworld/
    __init__.py
    admin.py
    apps.py
    migrations/
        __init__.py
    models.py
    tests.py
    views.py
```

#### Starting up the server

Now we will be able to run our server with in our Django Project. This is as simple as running the following command:

```
$ manage.py runserver
```

or in order to specify a port/IP address (0.0.0.0:8080):

```
$ manage.py runserver 0:8080
```


## Create models and database

Since we are using SQLite, we won't really need to do too much setup in order to get the database running. 

#### Migrating the database

Under `mysite/settings.py` there are `INSTALLED_APPS` by default (you can also add your own apps here too). There installed apps all have its own models and needs access to certain database tables. In order to set up those database tables, we need to migrate our database by running the following command (Note: the migrate command only runs migrations for apps included in the `INSTALLED_APPS`):

```
$ manage.py migrate
```

#### Creating models

Now we will create a simple model and run through the migration progress for our `helloworld` app. Let's create a User model with two fields (first_name, last_name). We will not go into details of how to create more complicated models, but in this case we created a User model with two character string fields of max length 200 each. 

In our `helloworld/models.py` files put the following:

```
from django.db import models

class User(models.Model):
  first_name = models.ChartField(max_length=200)
  last_name = models.CharField(max_length=200)

```

#### Migrate models and activate app

First we need to include our `helloworld` app into our `INSTALLED_APPS` hash. Go to your `mysite/settings.py` file and add the following `'helloworld.apps.HelloworldConfig',` to the `INSTALLED_APPS`:

```
INSTALLED_APPS = [
    'helloworld.apps.HelloworldConfig',
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]
```

Now that Django knows to include the hellowolrd app, we can create a migration file for the newly created models:

```
$ manage.py makemigrations helloworld
```

This will create a migration file under `helloworld/migrations/0001_intial.py`. You will need to run the makemigration command everytime you make some changes to the models.

Now you will need to run the actual migration file that you created for the helloworld application:

```
$ manage.py migrate
```

`makemigrations` is used to create migrations for the changes to the models that you made. 

`migrate` actually applies those changes to the database.


## Accessing Django Shell


